<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SJ íŒŒíŠ¸ë„ˆìŠ¤ ëª°</title>
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut } 
        from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

        // ì‚¬ì¥ë‹˜ì˜ íŒŒì´ì–´ë² ì´ìŠ¤ ì„¤ì •ê°’
        const firebaseConfig = {
            apiKey: "AIzaSyCpFn2uM7Dibf9UpWZdSVOxOqcYceZwUtI",
            authDomain: "sj-innovation-a8f6b.firebaseapp.com",
            projectId: "sj-innovation-a8f6b",
            storageBucket: "sj-innovation-a8f6b.firebasestorage.app",
            messagingSenderId: "449389360798",
            appId: "1:449389360798:web:d1b490aa9c75807903ed8f",
            measurementId: "G-NED86350PH"
        };

        // íŒŒì´ì–´ë² ì´ìŠ¤ ì´ˆê¸°í™”
        const app = initializeApp(firebaseConfig);
        window.auth = getAuth(app);
        window.createUser = createUserWithEmailAndPassword;
        window.signInUser = signInWithEmailAndPassword;
        window.logOut = signOut;
    </script>

    <style>
        /* ìŠ¤í¬ë¡¤ë°” ìˆ¨ê¹€ ìœ í‹¸ë¦¬í‹° */
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        /* í•˜ë‹¨ ì•ˆì „ ì˜ì—­ (ëª¨ë°”ì¼ ì•„ì´í° ë“± ëŒ€ì‘) */
        .safe-area-bottom {
            padding-bottom: env(safe-area-inset-bottom);
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 font-sans">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;
        
        // Lucide ì•„ì´ì½˜ ì»´í¬ë„ŒíŠ¸ ìƒì„± í—¬í¼
        const Icon = ({ name, ...props }) => {
            const iconName = name.charAt(0).toLowerCase() + name.slice(1);
            return <i data-lucide={iconName} {...props}></i>;
        };

        // --- Mock Data ---
        const CATEGORIES = ["ì „ì²´", "ìœ ì•„ë™ì˜ë¥˜", "ì™„êµ¬/êµêµ¬", "ì£¼ë°©/ì‹ê¸°", "ìƒí™œ/ê±´ê°•"];

        const PRODUCTS = [
            { id: 1, name: "ìºì¹˜í‹°ë‹ˆí•‘ í•˜ì¸„í•‘ ë°©í•œìš©í’ˆ ëª¨ìŒì „ (ì¥ê°‘/ëª©ë„ë¦¬)", category: "ìœ ì•„ë™ì˜ë¥˜", price: 11900, originPrice: 23000, rating: 4.9, image: "ğŸ§£", description: "ê²¨ìš¸ ì‹œì¦Œ í•„ìˆ˜ ì•„ì´í…œ! ì•„ì´ë“¤ì´ ì¢‹ì•„í•˜ëŠ” í•˜ì¸„í•‘ ìºë¦­í„°ê°€ ê·¸ë ¤ì§„ ë”°ëœ»í•œ ë°©í•œ ì¥ê°‘ê³¼ ëª©ë„ë¦¬ ì„¸íŠ¸ì…ë‹ˆë‹¤. ë¶€ë“œëŸ¬ìš´ í„¸ ì•ˆê°ìœ¼ë¡œ ë³´ì˜¨ì„±ì„ ë†’ì˜€ìŠµë‹ˆë‹¤." },
            { id: 2, name: "í‹°ë‹ˆí•‘ ë§ˆìŠ¤í¬ ì‹œì¦Œ3 ìƒˆë¶€ë¦¬í˜• ì†Œí˜• (20ë§¤)", category: "ìƒí™œ/ê±´ê°•", price: 12900, originPrice: 15900, rating: 4.8, image: "ğŸ˜·", description: "ìˆ¨ì‰¬ê¸° í¸í•œ ìƒˆë¶€ë¦¬í˜• êµ¬ì¡°ì˜ ì–´ë¦°ì´ìš© ë§ˆìŠ¤í¬ì…ë‹ˆë‹¤. 3ì¤‘ êµ¬ì¡° í•„í„°ë¡œ ì•ˆì „í•˜ë©°, ê·€ê°€ ì•„í”„ì§€ ì•Šì€ ë¶€ë“œëŸ¬ìš´ ì´ì–´ë°´ë“œë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤." },
            { id: 3, name: "ìŠˆíŒ…ìŠ¤íƒ€ ìºì¹˜í‹°ë‹ˆí•‘ ì‹œì¦Œ5 í•˜ì¸„í•‘ ìœ ì•„ í„¸ëª©ë„ë¦¬", category: "ìœ ì•„ë™ì˜ë¥˜", price: 12900, originPrice: 21900, rating: 4.9, image: "ğŸ§£", description: "í¬ê·¼í•œ ê°ì´‰ì˜ ìœ ì•„ìš© í„¸ëª©ë„ë¦¬ì…ë‹ˆë‹¤. ì°©ìš©ì´ ê°„í¸í•œ ê³ ë¦¬í˜• ë””ìì¸ìœ¼ë¡œ í™œë™ëŸ‰ì´ ë§ì€ ì•„ì´ë“¤ë„ í˜ëŸ¬ë‚´ë¦¼ ì—†ì´ ì°©ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤." },
            { id: 4, name: "ìŠˆíŒ…ìŠ¤íƒ€ ìºì¹˜í‹°ë‹ˆí•‘ íŒ¨ë”© ë²™ì–´ë¦¬ ì¥ê°‘", category: "ìœ ì•„ë™ì˜ë¥˜", price: 22900, originPrice: 32900, rating: 4.7, image: "ğŸ§¤", description: "ë°©ìˆ˜ ê¸°ëŠ¥ì´ ìˆëŠ” íŒ¨ë”© ì†Œì¬ì˜ ë²™ì–´ë¦¬ ì¥ê°‘ì…ë‹ˆë‹¤. ëˆˆì‹¸ì›€ì´ë‚˜ ìŠ¤í‚¤ì¥ì—ì„œë„ ì† ì –ì„ ê±±ì • ì—†ì´ ë”°ëœ»í•˜ê²Œ ë†€ ìˆ˜ ìˆìŠµë‹ˆë‹¤." },
            { id: 5, name: "ìŠˆíŒ…ìŠ¤íƒ€ ìºì¹˜í‹°ë‹ˆí•‘ ëª¨ìëª©ë„ë¦¬ ì„¸íŠ¸", category: "ìœ ì•„ë™ì˜ë¥˜", price: 16900, originPrice: 29900, rating: 5.0, image: "ğŸ§¢", description: "ëª¨ìì™€ ëª©ë„ë¦¬ê°€ í•˜ë‚˜ë¡œ! ê·€ê¹Œì§€ ë”°ëœ»í•˜ê²Œ ë®ì–´ì£¼ëŠ” ì¼ì²´í˜• ë°©í•œ ëª¨ìì…ë‹ˆë‹¤. ê·€ì—¬ìš´ ìºë¦­í„° ê·€ ì¥ì‹ì´ í¬ì¸íŠ¸ì…ë‹ˆë‹¤." },
            { id: 6, name: "ì´íƒˆë¦¬ì•ˆ ë¸Œë ˆì¸ë¡¯ ëœë¤ ë”±ì§€ (25íŒ©)", category: "ì™„êµ¬/êµêµ¬", price: 22900, originPrice: 39900, rating: 4.8, image: "ğŸ²", description: "ìš”ì¦˜ ì´ˆë“±í•™ìƒë“¤ ì‚¬ì´ì—ì„œ ëŒ€ìœ í–‰! ë‹¤ì–‘í•œ ìºë¦­í„° ë”±ì§€ë¥¼ ëª¨ì„ ìˆ˜ ìˆëŠ” ëœë¤ íŒ© ì„¸íŠ¸ì…ë‹ˆë‹¤. í•œ ë°•ìŠ¤ 25íŒ© êµ¬ì„±ìœ¼ë¡œ ë‚±ê°œ íŒë§¤í•˜ê¸° ì¢‹ìŠµë‹ˆë‹¤." },
            { id: 7, name: "ìŠˆíŒ…ìŠ¤íƒ€ ìºì¹˜í‹°ë‹ˆí•‘ ì‹œì¦Œ5 ìì„ ê¸€ì í•œê¸€í”ŒëŸ¬ìŠ¤", category: "ì™„êµ¬/êµêµ¬", price: 39900, originPrice: 49900, rating: 4.9, image: "ğŸ§²", description: "ë†€ë©´ì„œ ë°°ìš°ëŠ” í•œê¸€ ê³µë¶€! ëƒ‰ì¥ê³ ë‚˜ ìì„ ì¹ íŒì— ë¶™ì´ë©° ê¸€ìë¥¼ ìµí ìˆ˜ ìˆëŠ” ìì„ êµêµ¬ ì„¸íŠ¸ì…ë‹ˆë‹¤." },
            { id: 8, name: "ìºì¹˜í‹°ë‹ˆí•‘ ì˜¬ì¸ì› êµì • ì “ê°€ë½ ìŠ¤í‘¼ í¬í¬ ì„¸íŠ¸", category: "ì£¼ë°©/ì‹ê¸°", price: 13900, originPrice: 17500, rating: 4.8, image: "ğŸ¥¢", description: "ì˜¬ë°”ë¥¸ ì “ê°€ë½ì§ˆ ìŠµê´€ì„ ê¸¸ëŸ¬ì£¼ëŠ” êµì • ì “ê°€ë½ê³¼ ìŠ¤í‘¼, í¬í¬, ì¼€ì´ìŠ¤ê¹Œì§€ í¬í•¨ëœ ì˜¬ì¸ì› ì„¸íŠ¸ì…ë‹ˆë‹¤. ì–´ë¦°ì´ì§‘ ì¤€ë¹„ë¬¼ë¡œ ê°•ë ¥ ì¶”ì²œí•©ë‹ˆë‹¤." },
            { id: 9, name: "ìŠˆíŒ…ìŠ¤íƒ€ ìºì¹˜í‹°ë‹ˆí•‘ ë…¼ìŠ¬ë¦½ ìŠ¤í…ì»µ (ì™•ìí•‘)", category: "ì£¼ë°©/ì‹ê¸°", price: 9900, originPrice: 15000, rating: 4.7, image: "ğŸ¥›", description: "ë°”ë‹¥ì— ë¯¸ë„ëŸ¼ ë°©ì§€ ì²˜ë¦¬ê°€ ë˜ì–´ ìˆì–´ ìŸì„ ê±±ì •ì´ ì ì€ ìŠ¤í…Œì¸ë¦¬ìŠ¤ ì»µì…ë‹ˆë‹¤. ìœ„ìƒì ì´ê³  ë‚´êµ¬ì„±ì´ ë›°ì–´ë‚©ë‹ˆë‹¤." },
            { id: 10, name: "ìœ„ì‹œìº£ ìœ ì•„ ì–´ë¦°ì´ ì•ˆì‹¬ë½ ìŠ¤íŠ¸ë© ë³´í‹€", category: "ì£¼ë°©/ì‹ê¸°", price: 8900, originPrice: 12500, rating: 4.6, image: "ğŸ¼", description: "ì›í„°ì¹˜ ì˜¤í”ˆ ë°©ì‹ê³¼ ì ê¸ˆ ì¥ì¹˜(ì•ˆì‹¬ë½)ê°€ ìˆì–´ ê°€ë°© ì†ì—ì„œë„ ìƒ ì—¼ë ¤ê°€ ì—†ëŠ” ìœ ì•„ìš© ë¬¼ë³‘ì…ë‹ˆë‹¤. ì–´ê¹¨ ìŠ¤íŠ¸ë©ì´ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤." },
            { id: 11, name: "ìƒˆì½¤ë‹¬ì½¤ ìºì¹˜í‹°ë‹ˆí•‘ ì‹œì¦Œ4 í”Œë ˆì´íŒ… ìì„ ì†Œê¿‰ë†€ì´", category: "ì™„êµ¬/êµêµ¬", price: 23500, originPrice: 27000, rating: 4.8, image: "ğŸ°", description: "ì˜ˆìœ ë””ì €íŠ¸ë¥¼ ìì„ìœ¼ë¡œ ë¶™ì˜€ë‹¤ ë–¼ì—ˆë‹¤ í•  ìˆ˜ ìˆëŠ” ì†Œê¿‰ë†€ì´ ì„¸íŠ¸ì…ë‹ˆë‹¤. ì—­í•  ë†€ì´ë¥¼ í†µí•´ ì•„ì´ë“¤ì˜ ìƒìƒë ¥ì„ í‚¤ì›Œì¤ë‹ˆë‹¤." },
            { id: 12, name: "ì•„ì‚°ì œì•½ hCG ì„ì‹ í…ŒìŠ¤íŠ¸ê¸° ì§„ë‹¨ í‚¤íŠ¸ (25íšŒë¶„)", category: "ìƒí™œ/ê±´ê°•", price: 23900, originPrice: 47000, rating: 4.9, image: "âš•ï¸", description: "ì•½êµ­ ë° í¸ì˜ì  íŒë§¤ìš© ì„ì‹  ì§„ë‹¨ í‚¤íŠ¸ì…ë‹ˆë‹¤. ì •í™•ë„ê°€ ë†’ê³  ì‚¬ìš©ì´ ê°„í¸í•˜ì—¬ ê¾¸ì¤€íˆ íŒë§¤ë˜ëŠ” ìŠ¤í…Œë””ì…€ëŸ¬ì…ë‹ˆë‹¤." },
            { id: 13, name: "ì°¸ì¡´ KF94 í†¤ì—…í• ë¸”ë™ë¼ë²¨ ë§ˆìŠ¤í¬ ì¤‘í˜•", category: "ìƒí™œ/ê±´ê°•", price: 10900, originPrice: 20000, rating: 4.5, image: "ğŸ˜·", description: "ìŠ¤íƒ€ì¼ë¦¬ì‹œí•œ í•ê³¼ í¸ì•ˆí•œ í˜¸í¡ì„ ë™ì‹œì— ë§Œì¡±ì‹œí‚¤ëŠ” KF94 ë§ˆìŠ¤í¬ì…ë‹ˆë‹¤. ì–¼êµ´ ë¼ì¸ì„ ì‚´ë ¤ì£¼ëŠ” ë””ìì¸ìœ¼ë¡œ ì„±ì¸ ì—¬ì„± ë° ì²­ì†Œë…„ì—ê²Œ ì¸ê¸°ì…ë‹ˆë‹¤." },
            { id: 14, name: "ì  ë°”ë”” ì½”ë¡œë‚˜ ìê°€ ì§„ë‹¨ í‚¤íŠ¸ (10íšŒë¶„)", category: "ìƒí™œ/ê±´ê°•", price: 9350, originPrice: 13500, rating: 4.6, image: "ğŸ©º", description: "ë¹ ë¥´ê³  ê°„í¸í•˜ê²Œ ì½”ë¡œë‚˜ ê°ì—¼ ì—¬ë¶€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆëŠ” ìê°€ ê²€ì‚¬ í‚¤íŠ¸ì…ë‹ˆë‹¤. ë¹„ìƒìš©ìœ¼ë¡œ êµ¬ë¹„í•´ë‘ê¸° ì¢‹ì€ 10íšŒë¶„ ëŒ€ìš©ëŸ‰ êµ¬ì„±ì…ë‹ˆë‹¤." },
            { id: 15, name: "í—¬ë¡œì¹´ë´‡ ì‹œì¦Œ15 ë¬´ì†ŒìŒ êµì •ì “ê°€ë½ ì¼€ì´ìŠ¤ ì„¸íŠ¸", category: "ì£¼ë°©/ì‹ê¸°", price: 14900, originPrice: 19000, rating: 4.7, image: "ğŸ¤–", description: "ë‹¬ê·¸ë½ê±°ë¦¬ëŠ” ì†Œë¦¬ë¥¼ ì¤„ì¸ ë¬´ì†ŒìŒ ì¼€ì´ìŠ¤ê°€ í¬í•¨ëœ í—¬ë¡œì¹´ë´‡ ì “ê°€ë½ ì„¸íŠ¸ì…ë‹ˆë‹¤. ë‚¨ìì•„ì´ë“¤ì—ê²Œ ì¸ê¸° ë§Œì ì¸ ì„ ë¬¼ì…ë‹ˆë‹¤." },
            { id: 16, name: "ìœ„ì‹œìº£ í•˜íŠ¸ ì†ì¡ì´ íœ´ëŒ€ìš© ë³´í‹€ 380ml", category: "ì£¼ë°©/ì‹ê¸°", price: 8950, originPrice: 11000, rating: 4.5, image: "ğŸ¥¤", description: "ì‚¬ë‘ìŠ¤ëŸ¬ìš´ í•˜íŠ¸ ëª¨ì–‘ ì†ì¡ì´ê°€ ë‹¬ë¦° íœ´ëŒ€ìš© ë¬¼ë³‘ì…ë‹ˆë‹¤. ê°€ë³ê³  íˆ¬ëª…í•œ ì†Œì¬ë¡œ ë‚´ìš©ë¬¼ í™•ì¸ì´ ì‰½ìŠµë‹ˆë‹¤." },
            { id: 17, name: "ë°˜ì§í•‘ ìˆ˜ì €ì„¸íŠ¸ êµì • ì “ê°€ë½ (ì–´ë¦°ì´ì§‘ìš©)", category: "ì£¼ë°©/ì‹ê¸°", price: 13900, originPrice: 17900, rating: 4.7, image: "âœ¨", description: "ë¸”ë§ë¸”ë§ ë°˜ì§í•‘ ìºë¦­í„°ê°€ ë“¤ì–´ê°„ ìˆ˜ì € ì„¸íŠ¸ì…ë‹ˆë‹¤. ì•„ì´ë“¤ì´ ì‹ì‚¬ ì‹œê°„ì„ ì¦ê±°ì›Œí•˜ë„ë¡ ë„ì™€ì¤ë‹ˆë‹¤." },
            { id: 18, name: "ë¹›ë‚˜í•‘ ìˆ˜ì €ì„¸íŠ¸ êµì • ì “ê°€ë½ (ìœ ì¹˜ì›ìš©)", category: "ì£¼ë°©/ì‹ê¸°", price: 13900, originPrice: 17900, rating: 4.8, image: "ğŸŒŸ", description: "ìœ ì¹˜ì›ìƒì—ê²Œ ë”± ë§ëŠ” ì‚¬ì´ì¦ˆì˜ êµì • ì “ê°€ë½ ì„¸íŠ¸ì…ë‹ˆë‹¤. ìŠ¤í…Œì¸ë¦¬ìŠ¤ ì†Œì¬ë¡œ ìœ„ìƒì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤." },
            { id: 19, name: "ì´ˆë¡±í•‘ ìˆ˜ì €ì„¸íŠ¸ êµì • ì “ê°€ë½ ì˜¬ì¸ì›", category: "ì£¼ë°©/ì‹ê¸°", price: 13900, originPrice: 17900, rating: 4.6, image: "ğŸ‹", description: "ì´ˆë¡±ì´ˆë¡±í•œ ëˆˆë§ìš¸ì˜ ì´ˆë¡±í•‘ ìºë¦­í„° ìˆ˜ì € ì„¸íŠ¸ì…ë‹ˆë‹¤. ì¼€ì´ìŠ¤ê°€ í¬í•¨ë˜ì–´ ìˆì–´ íœ´ëŒ€í•˜ê¸° í¸ë¦¬í•©ë‹ˆë‹¤." },
            { id: 20, name: "ìƒˆì½¤ë‹¬ì½¤ ìºì¹˜í‹°ë‹ˆí•‘ ë””ì €íŠ¸ìƒµ ìì„ ì†Œê¿‰ë†€ì´", category: "ì™„êµ¬/êµêµ¬", price: 27000, originPrice: 35000, rating: 4.9, image: "ğŸ°", description: "ë””ì €íŠ¸ ê°€ê²Œ ë†€ì´ë¥¼ í•  ìˆ˜ ìˆëŠ” í’ì„±í•œ êµ¬ì„±ì˜ ì†Œê¿‰ë†€ì´ ì„¸íŠ¸ì…ë‹ˆë‹¤. ìì„ìœ¼ë¡œ ë˜ì–´ ìˆì–´ ì •ë¦¬ ì •ëˆë„ ì‰½ìŠµë‹ˆë‹¤." },
        ];

        // --- Product Detail Component ---
        const ProductDetailPage = ({ product, onBack, onAddToCart }) => {
            const [quantity, setQuantity] = useState(1);

            const handleQuantityChange = (delta) => {
                const newQuantity = quantity + delta;
                if (newQuantity >= 1) {
                    setQuantity(newQuantity);
                }
            };

            const handleAddToCart = () => {
                onAddToCart(product, quantity);
                onBack(); 
            };

            useEffect(() => {
                lucide.createIcons();
            }, []);

            return (
                <div className="animate-in slide-in-from-right duration-300 bg-white min-h-screen flex flex-col pb-[80px]">
                    <div className="sticky top-0 z-20 bg-white/90 backdrop-blur-md border-b border-slate-100 px-4 h-14 flex items-center gap-4">
                        <button onClick={onBack} className="p-2 -ml-2 hover:bg-slate-100 rounded-full active:bg-slate-200 transition-colors">
                            <Icon name="ArrowLeft" className="w-6 h-6 text-slate-600" />
                        </button>
                        <h2 className="font-bold text-lg text-slate-800 truncate pr-4 flex-1">{product.name}</h2>
                    </div>

                    <div className="flex-1 overflow-y-auto">
                        <div className="max-w-3xl mx-auto">
                            <div className="bg-slate-50 aspect-square w-full flex items-center justify-center mb-6">
                                <span className="text-[8rem] sm:text-[10rem] drop-shadow-2xl transform hover:scale-110 transition-transform duration-500">{product.image}</span>
                            </div>

                            <div className="px-5 pb-8">
                                <div className="flex items-center gap-2 mb-2">
                                    <span className="text-xs font-bold text-slate-500 bg-slate-100 px-2 py-1 rounded">{product.category}</span>
                                    <div className="flex items-center gap-1 text-yellow-500">
                                        <Icon name="Star" className="w-3 h-3 fill-current" />
                                        <span className="text-xs font-bold">{product.rating}</span>
                                    </div>
                                </div>
                                
                                <h1 className="text-xl sm:text-2xl font-bold text-slate-900 mb-4 leading-snug">{product.name}</h1>
                                
                                <div className="flex items-end gap-3 mb-6 pb-6 border-b border-slate-100">
                                    <span className="text-2xl sm:text-3xl font-bold text-slate-900">â‚©{new Intl.NumberFormat('ko-KR').format(product.price)}</span>
                                    <span className="text-base sm:text-lg text-slate-400 line-through mb-1">â‚©{new Intl.NumberFormat('ko-KR').format(product.originPrice)}</span>
                                    <span className="text-xs sm:text-sm text-red-500 font-bold mb-1 ml-auto bg-red-50 px-2 py-1 rounded">
                                        {Math.round((1 - product.price / product.originPrice) * 100)}% OFF
                                    </span>
                                </div>

                                <div className="bg-indigo-50 text-indigo-900 px-4 py-3 rounded-lg mb-8 flex items-start gap-3 border border-indigo-100">
                                    <Icon name="AlertCircle" className="w-5 h-5 mt-0.5 flex-shrink-0 text-indigo-600" />
                                    <div>
                                        <span className="font-bold block text-sm">ìµœì†Œ 1ì¹´í†¤ ë°œì£¼ ê°€ëŠ¥</span>
                                        <span className="text-xs text-indigo-700 mt-1 block">ë³¸ ìƒí’ˆì€ ë„ë§¤ ì „ìš© ìƒí’ˆìœ¼ë¡œ ë‚±ê°œ ë°œì£¼ê°€ ë¶ˆê°€ëŠ¥í•˜ë©°, ì¹´í†¤(ë°•ìŠ¤) ë‹¨ìœ„ë¡œë§Œ ì¶œê³ ë©ë‹ˆë‹¤.</span>
                                    </div>
                                </div>

                                <div className="space-y-8">
                                    <div>
                                        <h3 className="text-lg font-bold text-slate-900 mb-3">ìƒí’ˆ ì„¤ëª…</h3>
                                        <p className="text-slate-600 leading-relaxed text-sm bg-slate-50 p-5 rounded-xl border border-slate-100">
                                            {product.description}
                                        </p>
                                    </div>

                                    <div>
                                        <h3 className="text-lg font-bold text-slate-900 mb-3">ìƒí’ˆ ìƒì„¸ ì •ë³´</h3>
                                        <div className="w-full bg-slate-100 rounded-xl min-h-[400px] sm:min-h-[600px] flex flex-col items-center justify-center text-slate-400 border-2 border-dashed border-slate-200 p-4 text-center">
                                            <Icon name="FileText" className="w-12 h-12 sm:w-16 sm:h-16 mb-4 opacity-30" />
                                            <span className="font-medium">ìƒì„¸ í˜ì´ì§€ ì´ë¯¸ì§€ ì˜ì—­</span>
                                            <span className="text-xs sm:text-sm mt-2 text-slate-400">ì œí’ˆ ìƒì„¸ ì„¤ëª… ì´ë¯¸ì§€ê°€ ì´ê³³ì— ë¡œë“œë©ë‹ˆë‹¤.</span>
                                        </div>
                                    </div>

                                    <div>
                                        <h3 className="text-lg font-bold text-slate-900 mb-3">ë°°ì†¡ ì •ë³´</h3>
                                        <div className="bg-slate-50 p-5 rounded-xl space-y-3 text-sm text-slate-600 border border-slate-100">
                                            <div className="flex gap-3 items-center">
                                                <Icon name="Truck" className="w-5 h-5 text-slate-400" />
                                                <span>í‰ì¼ 14ì‹œ ì´ì „ ì£¼ë¬¸ ì‹œ ë‹¹ì¼ ì¶œê³ </span>
                                            </div>
                                            <div className="flex gap-3 items-center">
                                                <Icon name="Boxes" className="w-5 h-5 text-slate-400" />
                                                <span>ë°•ìŠ¤ ë‹¨ìœ„ ë°œì£¼ ê°€ëŠ¥ (í˜¼í•© ê°€ëŠ¥)</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div className="fixed bottom-0 left-0 right-0 bg-white border-t border-slate-100 px-4 py-3 sm:p-4 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] z-30 safe-area-bottom">
                        <div className="max-w-3xl mx-auto flex flex-col sm:flex-row gap-3 sm:gap-4">
                            <div className="flex items-center justify-between sm:justify-start sm:gap-6">
                                <span className="font-bold text-slate-900 text-sm sm:text-base">ìˆ˜ëŸ‰ (ì¹´í†¤)</span>
                                <div className="flex items-center gap-3 sm:gap-4 bg-slate-100 rounded-lg p-1">
                                    <button onClick={() => handleQuantityChange(-1)} className="w-8 h-8 sm:w-9 sm:h-9 flex items-center justify-center bg-white rounded shadow-sm hover:bg-slate-50 disabled:opacity-50 active:scale-95 transition-transform" disabled={quantity <= 1}>
                                        <Icon name="Minus" className="w-4 h-4" />
                                    </button>
                                    <span className="font-bold w-8 text-center text-sm sm:text-base">{quantity}</span>
                                    <button onClick={() => handleQuantityChange(1)} className="w-8 h-8 sm:w-9 sm:h-9 flex items-center justify-center bg-white rounded shadow-sm hover:bg-slate-50 active:scale-95 transition-transform">
                                        <Icon name="Plus" className="w-4 h-4" />
                                    </button>
                                </div>
                            </div>

                            <div className="flex gap-3 items-center flex-1">
                                <div className="flex-1 sm:hidden">
                                    <div className="text-[10px] text-slate-500">ì´ ê¸ˆì•¡</div>
                                    <div className="text-lg font-bold text-indigo-600">â‚©{new Intl.NumberFormat('ko-KR').format(product.price * quantity)}</div>
                                </div>
                                <div className="hidden sm:block flex-1 text-right pr-4">
                                    <div className="text-xs text-slate-500">ì´ ë°œì£¼ ê¸ˆì•¡</div>
                                    <div className="text-xl font-bold text-indigo-600">â‚©{new Intl.NumberFormat('ko-KR').format(product.price * quantity)}</div>
                                </div>
                                <button 
                                    onClick={handleAddToCart}
                                    className="flex-[2] sm:flex-1 bg-slate-800 hover:bg-slate-900 active:bg-slate-950 text-white font-bold py-3 sm:py-3.5 rounded-xl shadow-lg transition-all flex items-center justify-center gap-2 text-sm sm:text-base"
                                >
                                    <Icon name="ShoppingBag" className="w-4 h-4 sm:w-5 sm:h-5" />
                                    ë‹´ê¸°
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // --- Login Page Component ---
        const LoginPage = () => {
            const [isLoginMode, setIsLoginMode] = useState(true);
            const [isAddrOpen, setIsAddrOpen] = useState(false);
            const [isScriptLoaded, setIsScriptLoaded] = useState(false); 
            const addrWrapRef = useRef(null);
            const [loading, setLoading] = useState(false);

            const [formData, setFormData] = useState({
                email: '', password: '', confirmPassword: '', name: '', phone: '', mobile: '',
                zipcode: '', address: '', addressDetail: '',
                businessType: 'ë¬¸êµ¬/íŒ¬ì‹œì ', storeName: '', repName: '', businessNumber: '', businessCategory: '', businessItem: '', taxEmail: '', taxType: 'ë°œí–‰í•¨'
            });

            useEffect(() => {
                lucide.createIcons();
                
                // Daum Postcode script check
                if(window.daum && window.daum.Postcode) {
                    setIsScriptLoaded(true);
                } else {
                    const interval = setInterval(() => {
                        if(window.daum && window.daum.Postcode) {
                            setIsScriptLoaded(true);
                            clearInterval(interval);
                        }
                    }, 100);
                }
            }, []);

            useEffect(() => {
                if (isAddrOpen && isScriptLoaded && addrWrapRef.current && window.daum && window.daum.Postcode) {
                    addrWrapRef.current.innerHTML = '';
                    new window.daum.Postcode({
                        oncomplete: function(data) {
                            let addr = data.userSelectedType === 'R' ? data.roadAddress : data.jibunAddress;
                            let extraAddr = '';
                            if(data.userSelectedType === 'R'){
                                if(data.bname !== '' && /[ë™|ë¡œ|ê°€]$/g.test(data.bname)) extraAddr += data.bname;
                                if(data.buildingName !== '' && data.apartment === 'Y') extraAddr += (extraAddr !== '' ? ', ' + data.buildingName : data.buildingName);
                                if(extraAddr !== '') extraAddr = ' (' + extraAddr + ')';
                            }
                            setFormData(prev => ({ ...prev, zipcode: data.zonecode, address: addr + extraAddr }));
                            setIsAddrOpen(false); 
                        },
                        width: '100%', height: '100%'
                    }).embed(addrWrapRef.current);
                }
            }, [isAddrOpen, isScriptLoaded]);

            const handleSubmit = async (e) => {
                e.preventDefault();
                setLoading(true);

                try {
                    if (isLoginMode) {
                        // ë¡œê·¸ì¸ ì‹œë„
                        await window.signInUser(window.auth, formData.email, formData.password);
                        // ë¡œê·¸ì¸ ì„±ê³µ ì‹œ App ì»´í¬ë„ŒíŠ¸ì˜ Listenerê°€ ìë™ìœ¼ë¡œ í™”ë©´ ì „í™˜
                    } else {
                        // íšŒì›ê°€ì… ì‹œë„
                        if (formData.password !== formData.confirmPassword) {
                            alert("ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
                            setLoading(false);
                            return;
                        }
                        await window.createUser(window.auth, formData.email, formData.password);
                        alert("ì‚¬ì—…ì íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!");
                        // ê°€ì… ì„±ê³µ ì‹œ ìë™ìœ¼ë¡œ ë¡œê·¸ì¸ ì²˜ë¦¬ë¨
                    }
                } catch (error) {
                    console.error(error);
                    if(error.code === 'auth/email-already-in-use') alert("ì´ë¯¸ ê°€ì…ëœ ì´ë©”ì¼ì…ë‹ˆë‹¤.");
                    else if(error.code === 'auth/invalid-credential' || error.code === 'auth/user-not-found' || error.code === 'auth/wrong-password') alert("ì´ë©”ì¼ì´ë‚˜ ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤.");
                    else if(error.code === 'auth/weak-password') alert("ë¹„ë°€ë²ˆí˜¸ëŠ” 6ìë¦¬ ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.");
                    else alert("ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: " + error.message);
                } finally {
                    setLoading(false);
                }
            };

            const handleChange = (e) => {
                const { name, value } = e.target;
                setFormData(prev => ({ ...prev, [name]: value }));
            };

            return (
                <div className="min-h-screen flex items-center justify-center bg-slate-100 px-4 py-8 sm:px-6 lg:px-8 transition-all duration-500">
                    <div className={`bg-white rounded-2xl shadow-xl w-full mx-auto transition-all duration-500 ${isLoginMode ? 'max-w-md p-6 sm:p-8' : 'max-w-3xl p-6 sm:p-8'}`}>
                        <div className="text-center mb-8">
                            <div className="bg-slate-800 w-14 h-14 sm:w-16 sm:h-16 rounded-xl flex items-center justify-center mx-auto mb-4 text-white text-2xl sm:text-3xl font-bold shadow-lg">S</div>
                            <h1 className="text-2xl font-bold text-slate-800">{isLoginMode ? "SJ íŒŒíŠ¸ë„ˆ ë¡œê·¸ì¸" : "ì‚¬ì—…ì íšŒì›ë“±ë¡"}</h1>
                            <p className="text-slate-500 mt-2 text-sm font-semibold">SJ Innovation</p>
                        </div>
                        
                        <form onSubmit={handleSubmit} className="space-y-6">
                            {isLoginMode && (
                                <div className="space-y-4">
                                    <div>
                                        <label className="block text-sm font-medium text-slate-700 mb-1">ì´ë©”ì¼</label>
                                        <input name="email" type="email" placeholder="ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”" className="w-full px-4 py-3 rounded-lg border border-slate-300 focus:ring-2 focus:ring-slate-500 outline-none" onChange={handleChange} required />
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium text-slate-700 mb-1">ë¹„ë°€ë²ˆí˜¸</label>
                                        <input name="password" type="password" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”" className="w-full px-4 py-3 rounded-lg border border-slate-300 focus:ring-2 focus:ring-slate-500 outline-none" onChange={handleChange} required />
                                    </div>
                                </div>
                            )}

                            {!isLoginMode && (
                                <div className="space-y-8 animate-in fade-in duration-500">
                                    <section className="bg-slate-50 p-4 sm:p-6 rounded-xl border border-slate-200">
                                        <h3 className="text-lg font-bold text-slate-800 mb-4 border-b border-slate-200 pb-2">í•„ìˆ˜ì •ë³´ <span className="text-red-500 text-sm">*</span></h3>
                                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                            <div><label className="block text-sm font-medium text-slate-700 mb-1">ì´ë¦„(ì‹¤ëª…)</label><input name="name" type="text" className="w-full px-3 py-2 rounded border border-slate-300 focus:border-slate-500 outline-none" onChange={handleChange} /></div>
                                            <div><label className="block text-sm font-medium text-slate-700 mb-1">ì´ë©”ì¼(ì•„ì´ë””)</label><input name="email" type="email" className="w-full px-3 py-2 rounded border border-slate-300 focus:border-slate-500 outline-none" onChange={handleChange} required /></div>
                                            <div><label className="block text-sm font-medium text-slate-700 mb-1">ë¹„ë°€ë²ˆí˜¸</label><input name="password" type="password" className="w-full px-3 py-2 rounded border border-slate-300 focus:border-slate-500 outline-none" onChange={handleChange} required /></div>
                                            <div><label className="block text-sm font-medium text-slate-700 mb-1">ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label><input name="confirmPassword" type="password" className="w-full px-3 py-2 rounded border border-slate-300 focus:border-slate-500 outline-none" onChange={handleChange} required /></div>
                                            <div><label className="block text-sm font-medium text-slate-700 mb-1">íœ´ëŒ€í° ë²ˆí˜¸</label><input name="mobile" type="tel" className="w-full px-3 py-2 rounded border border-slate-300 focus:border-slate-500 outline-none" onChange={handleChange} /></div>
                                        </div>
                                        <div className="mt-4">
                                            <label className="block text-sm font-medium text-slate-700 mb-1">ê¸°ë³¸ ë°°ì†¡ì§€ ì£¼ì†Œ</label>
                                            <div className="flex gap-2 mb-2"><input name="zipcode" type="text" value={formData.zipcode} readOnly className="w-24 px-3 py-2 rounded border border-slate-300 bg-slate-100 text-sm" placeholder="ìš°í¸ë²ˆí˜¸" /><button type="button" onClick={() => setIsAddrOpen(true)} className="bg-slate-600 text-white text-xs px-3 rounded hover:bg-slate-700">ì£¼ì†Œê²€ìƒ‰</button></div>
                                            <input name="address" type="text" value={formData.address} readOnly className="w-full px-3 py-2 rounded border border-slate-300 bg-slate-100 mb-2" placeholder="ê¸°ë³¸ ì£¼ì†Œ" />
                                            <input name="addressDetail" type="text" className="w-full px-3 py-2 rounded border border-slate-300 focus:border-slate-500 outline-none" placeholder="ë‚˜ë¨¸ì§€ ì£¼ì†Œ (ìƒì„¸ì£¼ì†Œ)" onChange={handleChange} />
                                        </div>
                                    </section>

                                    <section className="bg-slate-50 p-4 sm:p-6 rounded-xl border border-slate-200">
                                        <h3 className="text-lg font-bold text-slate-800 mb-4 border-b border-slate-200 pb-2">ì‚¬ì—…ì í•„ìˆ˜ì •ë³´ <span className="text-red-500 text-sm">*</span></h3>
                                        <div className="mb-4">
                                            <label className="block text-sm font-medium text-slate-700 mb-2">ì‚¬ì—… í˜•íƒœ</label>
                                            <div className="grid grid-cols-2 sm:grid-cols-3 gap-3">
                                                {['ë¬¸êµ¬/íŒ¬ì‹œì ', 'ê³¼ì/ì•„ì´ìŠ¤í¬ë¦¼', 'í¸ì˜ì ', 'í‚¤ì¦ˆì¹´í˜', 'ê¸°íƒ€ì—…ì¢…'].map((type) => (
                                                    <label key={type} className="flex items-center gap-2 text-sm cursor-pointer p-2 border rounded hover:bg-white transition-colors">
                                                        <input type="radio" name="businessType" value={type} checked={formData.businessType === type} onChange={handleChange} className="text-slate-600 focus:ring-slate-500" />{type}
                                                    </label>
                                                ))}
                                            </div>
                                        </div>
                                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                            <div><label className="block text-sm font-medium text-slate-700 mb-1">ìƒí˜¸ëª…(ë²•ì¸ëª…)</label><input name="storeName" type="text" className="w-full px-3 py-2 rounded border border-slate-300 focus:border-slate-500 outline-none" onChange={handleChange} /></div>
                                            <div><label className="block text-sm font-medium text-slate-700 mb-1">ëŒ€í‘œìëª…</label><input name="repName" type="text" className="w-full px-3 py-2 rounded border border-slate-300 focus:border-slate-500 outline-none" onChange={handleChange} /></div>
                                            <div className="md:col-span-2"><label className="block text-sm font-medium text-slate-700 mb-1">ì‚¬ì—…ì ë“±ë¡ë²ˆí˜¸</label><input name="businessNumber" type="text" className="w-full px-3 py-2 rounded border border-slate-300 focus:border-slate-500 outline-none" onChange={handleChange} /></div>
                                            <div><label className="block text-sm font-medium text-slate-700 mb-1">ì—…íƒœ</label><input name="businessCategory" type="text" className="w-full px-3 py-2 rounded border border-slate-300 focus:border-slate-500 outline-none" onChange={handleChange} /></div>
                                            <div><label className="block text-sm font-medium text-slate-700 mb-1">ì¢…ëª©</label><input name="businessItem" type="text" className="w-full px-3 py-2 rounded border border-slate-300 focus:border-slate-500 outline-none" onChange={handleChange} /></div>
                                            <div className="md:col-span-2"><label className="block text-sm font-medium text-slate-700 mb-1">ì„¸ê¸ˆê³„ì‚°ì„œ ì´ë©”ì¼</label><input name="taxEmail" type="email" className="w-full px-3 py-2 rounded border border-slate-300 focus:border-slate-500 outline-none" onChange={handleChange} /></div>
                                        </div>
                                        <div className="mt-4 p-3 bg-slate-50 rounded-lg text-xs text-slate-700 flex items-start gap-2 border border-slate-200"><Icon name="Check" className="w-4 h-4 mt-0.5 flex-shrink-0 text-red-500" /><span>í—ˆìœ„ ì •ë³´ ê¸°ì¬ ì‹œ ë²•ì  ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë©°, ë¶€ì •í™•í•œ ì •ë³´ ì…ë ¥ ì‹œ ì •íšŒì› ìŠ¹ì¸ì´ ê±°ì ˆë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</span></div>
                                    </section>
                                </div>
                            )}
                            <button type="submit" disabled={loading} className="w-full bg-slate-800 hover:bg-slate-900 text-white font-bold py-4 rounded-xl transition-colors shadow-lg hover:shadow-xl mt-4 text-lg">
                                {loading ? "ì²˜ë¦¬ì¤‘..." : (isLoginMode ? "ë¡œê·¸ì¸í•˜ê¸°" : "ì‚¬ì—…ì íšŒì›ë“±ë¡ ì‹ ì²­")}
                            </button>
                        </form>
                        <div className="mt-6 text-center border-t border-slate-100 pt-6"><p className="text-sm text-slate-600">{isLoginMode ? "ì•„ì§ íŒŒíŠ¸ë„ˆ íšŒì›ì´ ì•„ë‹ˆì‹ ê°€ìš”?" : "ì´ë¯¸ ì•„ì´ë””ê°€ ìˆìœ¼ì‹ ê°€ìš”?"}<button onClick={() => { setIsLoginMode(!isLoginMode); window.scrollTo(0, 0); }} className="ml-2 font-bold text-slate-800 hover:underline focus:outline-none">{isLoginMode ? "ì‚¬ì—…ì íšŒì›ê°€ì…" : "ë¡œê·¸ì¸í•˜ê¸°"}</button></p></div>
                        <p className="mt-8 text-center text-xs text-slate-400">copyright (c) SJ Innovation. All rights reserved.</p>
                    </div>
                    {isAddrOpen && (
                        <div className="fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4">
                            <div className="bg-white w-full max-w-lg rounded-xl overflow-hidden shadow-2xl relative h-[500px] flex flex-col">
                                <div className="p-4 border-b flex justify-between items-center bg-slate-50"><h3 className="font-bold text-lg">ì£¼ì†Œ ê²€ìƒ‰</h3><button onClick={() => setIsAddrOpen(false)} className="p-1 hover:bg-slate-200 rounded-full"><Icon name="X" className="w-6 h-6 text-slate-500" /></button></div>
                                <div ref={addrWrapRef} className="flex-1 w-full bg-slate-100 relative">{!isScriptLoaded && (<div className="absolute inset-0 flex items-center justify-center text-slate-500">ì£¼ì†Œ ê²€ìƒ‰ ë¡œë”©ì¤‘...</div>)}</div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const formatPrice = (price) => new Intl.NumberFormat('ko-KR').format(price);

        // --- Main App Component ---
        const App = () => {
            const [user, setUser] = useState(null);
            const [loading, setLoading] = useState(true);
            const [selectedCategory, setSelectedCategory] = useState("ì „ì²´");
            const [cart, setCart] = useState([]);
            const [isCartOpen, setIsCartOpen] = useState(false);
            const [searchTerm, setSearchTerm] = useState("");
            const [selectedProduct, setSelectedProduct] = useState(null);

            useEffect(() => {
                lucide.createIcons();
            }, [user, cart, isCartOpen, selectedProduct]);

            useEffect(() => {
                // íŒŒì´ì–´ë² ì´ìŠ¤ ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸
                const unsubscribe = window.auth.onAuthStateChanged((user) => {
                    if (user) {
                        setUser(user);
                    } else {
                        setUser(null);
                    }
                    setLoading(false);
                });
                return () => unsubscribe();
            }, []);

            const addToCart = (product, quantity = 1) => {
                const existingItemIndex = cart.findIndex(item => item.id === product.id);
                
                if (existingItemIndex > -1) {
                    const newCart = [...cart];
                    newCart[existingItemIndex].quantity += quantity;
                    setCart(newCart);
                    alert(`${product.name} ìˆ˜ëŸ‰ì´ ${quantity}ê°œ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.`);
                } else {
                    setCart([...cart, { ...product, quantity }]);
                    alert(`${product.name}ì´(ê°€) ì¥ë°”êµ¬ë‹ˆì— ${quantity}ê°œ ë‹´ê²¼ìŠµë‹ˆë‹¤.`);
                }
            };

            const filteredProducts = PRODUCTS.filter(product => {
                const matchesCategory = selectedCategory === "ì „ì²´" || product.category === selectedCategory;
                const matchesSearch = product.name.toLowerCase().includes(searchTerm.toLowerCase());
                return matchesCategory && matchesSearch;
            });

            const handleLogout = async () => {
                if(confirm("ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
                    await window.logOut(window.auth);
                }
            };

            if (loading) return <div className="flex items-center justify-center h-screen bg-slate-50">ë¡œë”©ì¤‘...</div>;

            if (!user) {
                return <LoginPage />;
            }

            if (selectedProduct) {
                return (
                    <ProductDetailPage 
                        product={selectedProduct} 
                        onBack={() => setSelectedProduct(null)} 
                        onAddToCart={addToCart} 
                    />
                );
            }

            return (
                <div className="min-h-screen bg-slate-50 font-sans text-slate-800">
                    <header className="sticky top-0 z-40 bg-white shadow-sm border-b border-slate-100">
                        <div className="max-w-7xl mx-auto px-4 h-16 flex items-center justify-between">
                            <div className="flex items-center gap-2 cursor-pointer" onClick={() => setSelectedCategory("ì „ì²´")}>
                                <div className="bg-slate-800 w-8 h-8 rounded-lg flex items-center justify-center text-white font-bold text-lg">S</div>
                                <div className="flex flex-col"><span className="font-bold text-lg leading-none text-slate-800 hidden sm:block">SJ Innovation</span><span className="font-bold text-lg leading-none text-slate-800 sm:hidden">SJ</span></div>
                            </div>
                            
                            <div className="flex-1 max-w-lg mx-4 relative hidden sm:block">
                                <input type="text" placeholder="ìƒí’ˆ ê²€ìƒ‰ (ìºë¦­í„°, í’ˆëª…)" className="w-full bg-slate-100 border-none rounded-full py-2 pl-10 pr-4 text-sm focus:ring-2 focus:ring-slate-500 focus:bg-white transition-all" value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} />
                                <Icon name="Search" className="absolute left-3 top-2.5 text-slate-400 w-4 h-4" />
                            </div>

                            <div className="flex items-center gap-3 sm:gap-4">
                                <div className="sm:hidden relative">
                                    <Icon name="Search" className="w-6 h-6 text-slate-600" />
                                </div>
                                <button className="p-2 -mr-2 sm:mr-0 text-slate-600 hover:text-slate-900 relative" onClick={() => setIsCartOpen(true)}>
                                    <Icon name="Boxes" className="w-6 h-6" />
                                    {cart.length > 0 && (<span className="absolute top-0 right-0 bg-red-500 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full">{cart.length}</span>)}
                                </button>
                                <div className="h-6 w-[1px] bg-slate-200 hidden sm:block"></div>
                                <button className="flex items-center gap-2 text-sm font-medium text-slate-600 hover:text-slate-900 hidden sm:flex">
                                    <div className="w-8 h-8 bg-slate-100 rounded-full flex items-center justify-center"><Icon name="User" className="w-4 h-4 text-slate-600" /></div>
                                    <span className="hidden sm:block">{user.email}</span>
                                </button>
                                <button onClick={handleLogout} className="text-slate-400 hover:text-slate-600 ml-2"><Icon name="LogOut" className="w-5 h-5" /></button>
                            </div>
                        </div>
                        <div className="sm:hidden px-4 pb-3">
                            <div className="relative">
                                <input type="text" placeholder="ìƒí’ˆ ê²€ìƒ‰..." className="w-full bg-slate-100 border-none rounded-lg py-2 pl-9 pr-4 text-sm" value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} />
                                <Icon name="Search" className="absolute left-3 top-2.5 text-slate-400 w-4 h-4" />
                            </div>
                        </div>
                    </header>

                    <main className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8">
                        <div className="bg-gradient-to-r from-slate-800 to-slate-900 rounded-2xl p-6 sm:p-8 mb-8 text-white shadow-lg flex flex-col md:flex-row items-center justify-between gap-6">
                            <div className="text-center md:text-left">
                                <span className="bg-white/20 text-white px-3 py-1 rounded-full text-xs font-semibold mb-3 inline-block border border-white/30">SJ Innovation íŒŒíŠ¸ë„ˆ</span>
                                <h2 className="text-2xl sm:text-3xl font-bold mb-2">ê²¨ìš¸ ì‹œì¦Œ ì‹ ìƒ ì…ê³ !</h2>
                                <p className="text-slate-300 text-sm sm:text-base max-w-lg">í‹°ë‹ˆí•‘ ì‹œì¦Œ5 êµ¿ì¦ˆ & ë°©í•œ ìš©í’ˆ ëŒ€ëŸ‰ ì…ê³ .</p>
                            </div>
                            <div className="flex gap-3 w-full md:w-auto justify-center">
                                <div className="bg-white/10 backdrop-blur-sm p-3 sm:p-4 rounded-xl border border-white/20 text-center min-w-[80px] sm:min-w-[100px] flex-1 md:flex-none"><div className="text-xl sm:text-2xl font-bold">NEW</div><div className="text-[10px] sm:text-xs text-slate-300">ì‹ ê·œ ìºë¦­í„°</div></div>
                                <div className="bg-white/10 backdrop-blur-sm p-3 sm:p-4 rounded-xl border border-white/20 text-center min-w-[80px] sm:min-w-[100px] flex-1 md:flex-none"><div className="text-xl sm:text-2xl font-bold">40%</div><div className="text-[10px] sm:text-xs text-slate-300">ì¶”ê°€ í• ì¸</div></div>
                            </div>
                        </div>

                        <div className="flex overflow-x-auto pb-4 gap-2 mb-4 scrollbar-hide -mx-4 px-4 sm:mx-0 sm:px-0">
                            {CATEGORIES.map((cat) => (
                                <button key={cat} onClick={() => setSelectedCategory(cat)} className={`px-4 sm:px-5 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors border ${selectedCategory === cat ? "bg-slate-800 text-white border-slate-800" : "bg-white text-slate-600 border-slate-200 hover:border-slate-400 hover:bg-slate-50"}`}>{cat}</button>
                            ))}
                        </div>

                        <div className="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6">
                            {filteredProducts.map((product) => (
                                <div key={product.id} onClick={() => setSelectedProduct(product)} className="bg-white rounded-xl border border-slate-100 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 group overflow-hidden flex flex-col cursor-pointer active:scale-[0.98]">
                                    <div className="aspect-[4/3] bg-slate-100 relative flex items-center justify-center overflow-hidden">
                                        <span className="text-5xl sm:text-6xl transform group-hover:scale-110 transition-transform duration-500">{product.image}</span>
                                        <div className="absolute top-2 left-2 sm:top-3 sm:left-3 bg-slate-800 text-white text-[10px] sm:text-xs font-bold px-1.5 py-0.5 sm:px-2 sm:py-1 rounded-md shadow-sm">ì¸ê¸°</div>
                                    </div>
                                    <div className="p-3 sm:p-5 flex flex-col flex-grow">
                                        <div className="text-[10px] sm:text-xs text-slate-400 mb-1 font-medium">{product.category}</div>
                                        <h3 className="font-bold text-slate-800 mb-1 sm:mb-2 text-sm sm:text-lg leading-tight line-clamp-2">{product.name}</h3>
                                        <div className="flex items-center gap-1 mb-2 sm:mb-4"><Icon name="Store" className="w-3 h-3 sm:w-4 sm:h-4 text-slate-400" /><span className="text-xs sm:text-sm font-medium text-slate-600">{product.rating}</span></div>
                                        <div className="mt-auto">
                                            <div className="flex justify-between items-center mb-0.5 sm:mb-1"><span className="text-[10px] sm:text-xs text-slate-400">ê¶Œì¥ê°€</span><span className="text-[10px] sm:text-xs text-slate-400 line-through">â‚©{formatPrice(product.originPrice)}</span></div>
                                            <div className="flex justify-between items-baseline mb-2 sm:mb-3"><span className="text-xs sm:text-sm font-bold text-slate-700">ê³µê¸‰ê°€</span><span className="text-base sm:text-xl font-bold text-slate-800">â‚©{formatPrice(product.price)}</span></div>
                                            <button className="w-full bg-slate-50 text-slate-700 border border-slate-200 group-hover:bg-slate-800 group-hover:text-white group-hover:border-transparent font-medium py-2 sm:py-2.5 rounded-lg transition-colors flex items-center justify-center gap-1 sm:gap-2 text-xs sm:text-sm">
                                                <Icon name="Search" className="w-3 h-3 sm:w-4 sm:h-4" />
                                                ìƒì„¸
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>
                        {filteredProducts.length === 0 && (<div className="text-center py-20 text-slate-400">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</div>)}
                    </main>

                    {isCartOpen && (
                        <div className="fixed inset-0 z-50 flex justify-end">
                            <div className="absolute inset-0 bg-black/30 backdrop-blur-sm" onClick={() => setIsCartOpen(false)}></div>
                            <div className="relative w-full max-w-md bg-white h-full shadow-2xl flex flex-col animate-in slide-in-from-right duration-300">
                                <div className="p-4 sm:p-5 border-b border-slate-100 flex items-center justify-between bg-slate-50"><h2 className="font-bold text-lg">ë°œì£¼ ëª©ë¡ ({cart.length})</h2><button onClick={() => setIsCartOpen(false)} className="p-2 hover:bg-slate-200 rounded-full"><Icon name="X" className="w-5 h-5 text-slate-500" /></button></div>
                                <div className="flex-1 overflow-y-auto p-4 sm:p-5 space-y-4">
                                    {cart.length === 0 ? (
                                        <div className="h-full flex flex-col items-center justify-center text-slate-400"><Icon name="Boxes" className="w-12 h-12 mb-4 opacity-20" /><p>ë°œì£¼í•  ìƒí’ˆì´ ì—†ìŠµë‹ˆë‹¤.</p></div>
                                    ) : (
                                        cart.map((item, idx) => (
                                            <div key={idx} className="flex gap-4 items-center py-3 border-b border-slate-100 last:border-0">
                                                <div className="w-14 h-14 sm:w-16 sm:h-16 bg-slate-100 rounded-lg flex items-center justify-center text-2xl flex-shrink-0">{item.image}</div>
                                                <div className="flex-1">
                                                    <h4 className="text-sm font-medium text-slate-800 line-clamp-1">{item.name}</h4>
                                                    <div className="flex justify-between items-center mt-1">
                                                        <span className="text-slate-600 text-xs bg-slate-100 px-2 py-0.5 rounded">ìˆ˜ëŸ‰: {item.quantity}ê°œ</span>
                                                        <span className="text-slate-800 font-bold text-sm">â‚©{formatPrice(item.price * item.quantity)}</span>
                                                    </div>
                                                </div>
                                                <button onClick={() => { const newCart = [...cart]; newCart.splice(idx, 1); setCart(newCart); }} className="text-slate-400 hover:text-red-500 p-2"><Icon name="X" className="w-4 h-4" /></button>
                                            </div>
                                        ))
                                    )}
                                </div>
                                {cart.length > 0 && (
                                    <div className="p-4 sm:p-5 border-t border-slate-100 bg-slate-50">
                                        <div className="flex justify-between mb-4"><span className="text-slate-600">ì´ ê³µê¸‰ê°€ì•¡</span><span className="font-bold text-xl text-slate-800">â‚©{formatPrice(cart.reduce((sum, item) => sum + (item.price * item.quantity), 0))}</span></div>
                                        <button className="w-full bg-slate-800 hover:bg-slate-900 text-white py-3.5 rounded-xl font-bold shadow-lg transition-colors flex justify-center items-center gap-2"><Icon name="Truck" className="w-5 h-5" />ë°œì£¼ ì‹ ì²­í•˜ê¸°</button>
                                    </div>
                                )}
                            </div>
                        </div>
                    )}
                    
                    <footer className="bg-slate-600 text-white py-12 mt-10">
                        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center sm:text-left">
                            <div className="grid grid-cols-1 sm:grid-cols-3 gap-8 border-b border-slate-500 pb-10">
                                <div className="flex flex-col items-center sm:items-start"><div className="flex items-center gap-3 mb-4"><div className="w-10 h-10 bg-white rounded-full"></div><div className="flex flex-col font-bold"><span>SJ INNOVATION</span></div></div></div>
                                <div><h5 className="font-bold mb-4 text-slate-200">CONTACT</h5><p className="text-sm text-slate-300">070-7816-9999</p></div>
                                <div className="md:col-span-1"><h5 className="font-bold mb-4 text-slate-200">ADDRESS</h5><div className="text-sm text-slate-300 space-y-1"><p>ì¸ì²œ ê´‘ì—­ì‹œ ê°ˆì‚°ë™ 94 ì¸ì²œí…Œí¬ë…¸ë°¸ë¦¬ U1ì„¼í„°</p><p>Aë™ S615í˜¸</p><p>ì‚¬ì—…ì ë²ˆí˜¸ : 373-28-01764</p><p>ëŒ€í‘œ : ìœ¤ ë³‘ ë¯¼</p></div></div>
                            </div>
                            <div className="pt-8 flex flex-col md:flex-row justify-between items-center text-xs text-slate-300 gap-4"><div className="mb-0">Privacy Policy</div><div>copyright (c) SJ Innovation. All rights reserved.</div></div>
                        </div>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
